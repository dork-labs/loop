---
title: Dispatch
description: Preview the dispatch queue and force-claim issues using the looped CLI.
---

# Dispatch

The dispatch commands let you preview the priority-ordered work queue and claim issues for execution. The dispatch queue ranks issues by a composite score that considers priority, goal alignment, age, and issue type.

## looped next

Preview the dispatch queue without claiming any issues. Shows the highest-scored unblocked issues ready for work.

```bash
looped next [options]
```

### Options

| Flag | Default | Description |
|------|---------|-------------|
| `--project <id>` | none | Filter by project ID |
| `--limit <n>` | `10` | Maximum items to show |

### Examples

Preview the queue:

```bash
looped next
```

Filter by project:

```bash
looped next --project clx1abc2def3ghi4jkl5mnop
```

Show top 5 items as JSON:

```bash
looped next --limit 5 --json
```

### Sample output

```
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RANK â”‚ #    â”‚ TYPE      â”‚ TITLE                        â”‚ PRI    â”‚ SCORE â”‚ BREAKDOWN                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1    â”‚ 40   â”‚ ğŸ“‹ plan   â”‚ Migrate user service to v2    â”‚ urgent â”‚ 118   â”‚ pri:75 + goal:20 + age:3 + â€¦  â”‚
â”‚ 2    â”‚ 42   â”‚ ğŸ”§ task   â”‚ Fix login timeout             â”‚ high   â”‚ 95    â”‚ pri:50 + goal:20 + age:5 + â€¦  â”‚
â”‚ 3    â”‚ 39   â”‚ ğŸ”¬ hypo   â”‚ Cache warming reduces latency â”‚ medium â”‚ 68    â”‚ pri:25 + goal:20 + age:3 + â€¦  â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Showing 3 of 3 queued issues
```

### Score breakdown

Each issue in the queue has a composite score made up of:

| Component | Description |
|-----------|-------------|
| `pri` | Weight based on priority level (urgent=75, high=50, medium=25, low=10) |
| `goal` | Bonus when the issue is linked to a project with an active goal |
| `age` | Bonus that increases as the issue ages, preventing starvation |
| `type` | Bonus based on issue type (plans and tasks score higher) |

---

## looped dispatch

Force-claim a specific issue by setting its status to `in_progress`, then display the issue details.

```bash
looped dispatch <id>
```

### Arguments

| Argument | Description |
|----------|-------------|
| `id` | Issue ID (CUID2) to claim |

### Example

```bash
looped dispatch clx1abc2def3ghi4jkl5mnop
```

### Sample output

```
Dispatched: #42 Fix login timeout
  Type:     ğŸ”§ task
  Status:   in_progress
  Priority: high
  ID:       clx1abc2def3ghi4jkl5mnop

Description:
  Login requests are timing out after 30s when the session cache is cold.
```

---

## Typical dispatch workflow

```bash
# 1. Preview what is next in the queue
looped next

# 2. Inspect the top issue for more detail
looped show clx1abc2def3ghi4jkl5mnop

# 3. Claim the issue
looped dispatch clx1abc2def3ghi4jkl5mnop

# 4. After completing work, check system status
looped status
```

## Agent usage

Agents can use `next` and `dispatch` in automation scripts:

```bash
# Get the top issue ID from the queue
ISSUE_ID=$(looped next --limit 1 --json | jq -r '.data[0].issue.id')

# Claim it
looped dispatch "$ISSUE_ID"
```
