---
title: Quickstart
description: Go from zero to your first dispatched issue in 5 minutes. Clone the repo, start the API, ingest a signal, and dispatch it to an AI agent.
---

import { Steps, Step } from 'fumadocs-ui/components/steps'
import { Tab, Tabs } from 'fumadocs-ui/components/tabs'
import { Callout } from 'fumadocs-ui/components/callout'

# Quickstart

This tutorial walks you through the core Loop workflow: ingest a signal, see it become a triage issue, and dispatch it with a hydrated prompt for an AI agent.

<Callout type="info">
  This guide assumes you have Node.js 20+, npm, and a PostgreSQL database ready. [Neon](https://neon.tech) offers a free tier that works perfectly.
</Callout>

<Steps>

<Step>
### Clone the repository and install dependencies

```bash
git clone https://github.com/dork-labs/loop.git
cd loop
npm install
```
</Step>

<Step>
### Configure your environment

Copy the example environment file and fill in your database connection string and API key.

```bash
cp apps/api/.env.example apps/api/.env
```

Edit `apps/api/.env` with your values:

```bash
DATABASE_URL="postgresql://user:password@host/dbname?sslmode=require"
LOOP_API_KEY="your-api-key-here"
```

<Callout type="warning">
  Never commit your `.env` file. It is already in `.gitignore`, but always double-check before pushing.
</Callout>
</Step>

<Step>
### Run database migrations

Apply the schema to your PostgreSQL database:

```bash
npm run db:migrate -w apps/api
```

This creates all the tables Loop needs: issues, signals, projects, goals, prompt templates, and more.
</Step>

<Step>
### Start the API server

```bash
npm run dev -w apps/api
```

The API starts on `http://localhost:4242`. Verify it is running:

<Tabs items={['curl', 'JavaScript']}>
<Tab value="curl">
```bash
curl http://localhost:4242/health
```
</Tab>
<Tab value="JavaScript">
```js
const res = await fetch("http://localhost:4242/health");
const data = await res.json();
console.log(data);
```
</Tab>
</Tabs>

You should see:

```json
{ "ok": true, "service": "loop-api", "timestamp": "2026-02-20T..." }
```
</Step>

<Step>
### Create a project

Create a project to organize your issues.

<Tabs items={['curl', 'JavaScript']}>
<Tab value="curl">
```bash
curl -X POST http://localhost:4242/api/projects \
  -H "Authorization: Bearer your-api-key-here" \
  -H "Content-Type: application/json" \
  -d '{"name": "My First Project", "description": "Testing Loop"}'
```
</Tab>
<Tab value="JavaScript">
```js
const res = await fetch("http://localhost:4242/api/projects", {
  method: "POST",
  headers: {
    "Authorization": "Bearer your-api-key-here",
    "Content-Type": "application/json",
  },
  body: JSON.stringify({
    name: "My First Project",
    description: "Testing Loop",
  }),
});
const data = await res.json();
console.log(data);
```
</Tab>
</Tabs>

The response includes the new project with a generated CUID2 `id`. Save this ID for the next step.

```json
{
  "data": {
    "id": "clxyz1234567890abcdef",
    "name": "My First Project",
    "description": "Testing Loop",
    "status": "backlog",
    "health": "on_track",
    "createdAt": "2026-02-20T...",
    "updatedAt": "2026-02-20T..."
  }
}
```
</Step>

<Step>
### Ingest a signal

Signals are raw events from external sources. When you submit a signal, Loop atomically creates a linked triage issue.

<Tabs items={['curl', 'JavaScript']}>
<Tab value="curl">
```bash
curl -X POST http://localhost:4242/api/signals \
  -H "Authorization: Bearer your-api-key-here" \
  -H "Content-Type: application/json" \
  -d '{
    "source": "manual",
    "type": "error_report",
    "severity": "high",
    "payload": {
      "message": "Login page returns 500 on mobile Safari",
      "url": "/login",
      "userAgent": "Mozilla/5.0 (iPhone; ...)"
    }
  }'
```
</Tab>
<Tab value="JavaScript">
```js
const res = await fetch("http://localhost:4242/api/signals", {
  method: "POST",
  headers: {
    "Authorization": "Bearer your-api-key-here",
    "Content-Type": "application/json",
  },
  body: JSON.stringify({
    source: "manual",
    type: "error_report",
    severity: "high",
    payload: {
      message: "Login page returns 500 on mobile Safari",
      url: "/login",
      userAgent: "Mozilla/5.0 (iPhone; ...)",
    },
  }),
});
const data = await res.json();
console.log(data);
```
</Tab>
</Tabs>

The response contains both the signal and the automatically created triage issue:

```json
{
  "data": {
    "signal": {
      "id": "sig_abc123...",
      "source": "manual",
      "type": "error_report",
      "severity": "high"
    },
    "issue": {
      "id": "iss_def456...",
      "title": "[manual] error_report: Login page returns 500 on mobile Safari",
      "type": "signal",
      "status": "triage",
      "priority": 2
    }
  }
}
```
</Step>

<Step>
### See the signal as a triage issue

List issues to confirm the signal created a triage issue.

<Tabs items={['curl', 'JavaScript']}>
<Tab value="curl">
```bash
curl "http://localhost:4242/api/issues?type=signal" \
  -H "Authorization: Bearer your-api-key-here"
```
</Tab>
<Tab value="JavaScript">
```js
const res = await fetch("http://localhost:4242/api/issues?type=signal", {
  headers: {
    "Authorization": "Bearer your-api-key-here",
  },
});
const data = await res.json();
console.log(data);
```
</Tab>
</Tabs>

You should see your signal-generated issue in the response:

```json
{
  "data": [
    {
      "id": "iss_def456...",
      "title": "[manual] error_report: Login page returns 500 on mobile Safari",
      "type": "signal",
      "status": "triage",
      "priority": 2,
      "signalSource": "manual"
    }
  ],
  "total": 1
}
```
</Step>

<Step>
### Dispatch the next issue

The dispatch endpoint atomically claims the highest-priority unblocked issue, sets it to `in_progress`, and returns a hydrated prompt for an AI agent.

<Callout type="info">
  Dispatch uses `FOR UPDATE SKIP LOCKED` to prevent multiple agents from claiming the same issue. If no issues are available, you receive a `204 No Content` response.
</Callout>

<Tabs items={['curl', 'JavaScript']}>
<Tab value="curl">
```bash
curl http://localhost:4242/api/dispatch/next \
  -H "Authorization: Bearer your-api-key-here"
```
</Tab>
<Tab value="JavaScript">
```js
const res = await fetch("http://localhost:4242/api/dispatch/next", {
  headers: {
    "Authorization": "Bearer your-api-key-here",
  },
});

if (res.status === 204) {
  console.log("No issues available for dispatch");
} else {
  const data = await res.json();
  console.log(data);
}
```
</Tab>
</Tabs>

If a matching prompt template exists, the response includes the issue, the hydrated prompt, and metadata for submitting a review:

```json
{
  "issue": {
    "id": "iss_def456...",
    "number": 1,
    "title": "[manual] error_report: Login page returns 500 on mobile Safari",
    "type": "signal",
    "priority": 2,
    "status": "in_progress"
  },
  "prompt": "You are investigating a signal...",
  "meta": {
    "templateSlug": "signal-triage",
    "templateId": "tpl_abc...",
    "versionId": "ver_xyz...",
    "versionNumber": 1,
    "reviewUrl": "POST /api/prompt-reviews"
  }
}
```

If no template matches, `prompt` and `meta` will be `null`, but you still receive the claimed issue.
</Step>

</Steps>

## Next steps

- [**Authentication**](/docs/getting-started/authentication) — Learn about Bearer token auth and webhook verification.
- [**Concepts**](/docs/concepts) — Understand how issues, signals, dispatch, and prompts work together.
- [**API Reference**](/docs/api) — Browse the full endpoint documentation.
